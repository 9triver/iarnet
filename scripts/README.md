# 数据库工具脚本

## read_users.go - 读取用户表数据

从 SQLite 数据库的 users 表中读取数据，并以类似 MySQL 查询结果的表格格式输出。

### 使用方法

#### 方法一：直接运行 Go 脚本

```bash
# 使用默认数据库路径 (data/users.db)
go run scripts/read_users.go

# 指定数据库文件路径
go run scripts/read_users.go /path/to/users.db
```

#### 方法二：使用 Shell 脚本

```bash
# 使用默认数据库路径
./scripts/read_users.sh

# 指定数据库文件路径
./scripts/read_users.sh /path/to/users.db
```

### 输出格式

脚本会以类似 MySQL 的表格格式输出数据：

```
+-------+-------+-------------------------+--------+---------------------+---------------------+
| id    | name  | password                | role   | created_at          | updated_at          |
+-------+-------+-------------------------+--------+---------------------+---------------------+
| admin | admin | $2a$10$Ji1RPCXNdwXs8... | super  | 2026-01-19 07:21:55 | 2026-01-19 07:21:55 |
| test  | test  | $2a$10$W4/45Es9GK26H... | normal | 2026-01-19 07:25:48 | 2026-01-19 07:25:48 |
+-------+-------+-------------------------+--------+---------------------+---------------------+
2 rows in set (0.00 sec)
```

### 特性

- 自动计算列宽，适应数据长度
- 密码字段自动截断（超过20字符显示前20字符+...）
- 按创建时间排序
- 显示行数统计
- 错误处理和友好的错误消息

### 注意事项

- 确保数据库文件存在且有读取权限
- 需要安装 Go 和 `github.com/mattn/go-sqlite3` 依赖
- 密码字段出于安全考虑会被截断显示
