<svg xmlns="http://www.w3.org/2000/svg" width="1160" height="640" viewBox="0 0 1160 640">
  <defs>
    <style><![CDATA[
      .title{font:700 24px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .subtitle{font:600 18px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .label{font:500 14px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .mono{font:600 12px ui-monospace,Consolas,Menlo}
    ]]></style>
    <marker id="arr" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#1565C0"/>
    </marker>
    <filter id="shadow"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.18"/></filter>
  </defs>
  <rect x="0" y="0" width="1160" height="640" fill="#F3E5F5"/>
  <text x="580" y="40" text-anchor="middle" class="title">基于 gRPC 的资源调度委托（面向资源管理节点）</text>

  <!-- Local RM -->
  <g filter="url(#shadow)">
    <rect x="80" y="120" width="380" height="400" rx="14" fill="#FFFFFF" stroke="#B39DDB"/>
  </g>
  <text x="270" y="150" text-anchor="middle" class="subtitle">本地资源管理节点</text>
  <rect x="120" y="180" width="300" height="80" rx="10" fill="#E8EAF6" stroke="#5C6BC0"/>
  <text x="270" y="210" text-anchor="middle" class="label">构造资源申请（R_a，镜像，配置…）</text>
  <rect x="120" y="280" width="300" height="80" rx="10" fill="#E3F2FD" stroke="#42A5F5"/>
  <text x="270" y="310" text-anchor="middle" class="label">通过 gRPC 发送到目标资源管理节点</text>

  <!-- Remote RM -->
  <g filter="url(#shadow)">
    <rect x="700" y="120" width="380" height="400" rx="14" fill="#FFFFFF" stroke="#B39DDB"/>
  </g>
  <text x="890" y="150" text-anchor="middle" class="subtitle">远程资源管理节点</text>
  <rect x="740" y="180" width="300" height="90" rx="10" fill="#FFF8E1" stroke="#FFC107"/>
  <text x="890" y="210" text-anchor="middle" class="label">Admission Control（接受/拒绝）</text>
  <text x="890" y="233" text-anchor="middle" class="mono">资源可用性 / 负载 / 鉴权 / 成本 / 维护</text>
  <rect x="740" y="290" width="300" height="80" rx="10" fill="#E0F2F1" stroke="#26A69A"/>
  <text x="890" y="320" text-anchor="middle" class="label">选择本地 Provider 并执行部署</text>
  <rect x="740" y="380" width="300" height="80" rx="10" fill="#FCE4EC" stroke="#F06292"/>
  <text x="890" y="410" text-anchor="middle" class="label">返回成功/拒绝及原因（代理引用/错误码）</text>

  <!-- Arrows -->
  <path d="M420 320 C520 330, 620 330, 700 320" stroke="#1565C0" stroke-width="3" fill="none" marker-end="url(#arr)"/>
  <text x="560" y="350" class="mono" text-anchor="middle">gRPC 请求</text>
  <path d="M700 420 C600 430, 500 430, 420 420" stroke="#1565C0" stroke-width="3" fill="none" marker-end="url(#arr)"/>
  <text x="560" y="450" class="mono" text-anchor="middle">结果/拒绝原因</text>

  <!-- Notes -->
  <text x="580" y="600" text-anchor="middle" class="label">说明：委托请求的目标是“资源管理节点”，由其在本地 Provider 池中完成实际分配与执行</text>
</svg>

