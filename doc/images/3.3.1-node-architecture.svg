<svg xmlns="http://www.w3.org/2000/svg" width="1160" height="640" viewBox="0 0 1160 640">
  <defs>
    <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#E3F2FD"/>
      <stop offset="100%" stop-color="#F3E5F5"/>
    </linearGradient>
    <linearGradient id="g2" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#E8F5E9"/>
      <stop offset="100%" stop-color="#FFFDE7"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000" flood-opacity="0.2"/>
    </filter>
    <style><![CDATA[
      .title{font:700 24px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .subtitle{font:600 18px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .label{font:500 14px system-ui,Segoe UI,Roboto,Helvetica,Arial}
      .mono{font:600 12px ui-monospace,Consolas,Menlo}
    ]]></style>
  </defs>

  <rect x="0" y="0" width="1160" height="640" fill="url(#g1)"/>
  <text x="580" y="40" text-anchor="middle" class="title">资源管理节点模型与核心组件</text>

  <!-- Local Resource Manager -->
  <g filter="url(#shadow)">
    <rect x="80" y="100" rx="14" ry="14" width="520" height="420" fill="url(#g2)" stroke="#90CAF9" stroke-width="2"/>
  </g>
  <text x="340" y="130" text-anchor="middle" class="subtitle">本地资源管理节点</text>

  <!-- Components -->
  <g>
    <rect x="130" y="170" width="180" height="80" rx="10" fill="#BBDEFB" stroke="#64B5F6"/>
    <text x="220" y="198" text-anchor="middle" class="subtitle">Provider</text>
    <text x="220" y="220" text-anchor="middle" class="label">Docker / K8s / 裸金属</text>

    <rect x="130" y="280" width="180" height="80" rx="10" fill="#FFF9C4" stroke="#FFD54F"/>
    <text x="220" y="308" text-anchor="middle" class="subtitle">Store</text>
    <text x="220" y="330" text-anchor="middle" class="label">Actor 计算结果</text>

    <rect x="130" y="390" width="180" height="80" rx="10" fill="#F8BBD0" stroke="#F06292"/>
    <text x="220" y="418" text-anchor="middle" class="subtitle">Logger</text>
    <text x="220" y="440" text-anchor="middle" class="label">Actor 日志推送</text>
  </g>

  <!-- Actor side -->
  <g>
    <rect x="380" y="220" width="180" height="110" rx="12" fill="#E1F5FE" stroke="#4FC3F7"/>
    <text x="470" y="250" text-anchor="middle" class="subtitle">Actor / 应用组件</text>
    <text x="470" y="272" text-anchor="middle" class="label">部署/运行</text>
    <text x="470" y="292" text-anchor="middle" class="label">结果→Store 日志→Logger</text>
  </g>

  <!-- Arrows from Actor to components -->
  <g stroke="#607D8B" stroke-width="2" fill="none" marker-end="url(#arrow)">
    <path d="M380 275 H320"/>
    <path d="M380 280 C360 310, 320 300, 320 320"/>
    <path d="M380 285 C360 360, 320 360, 320 400"/>
  </g>

  <!-- Gossip to remote manager -->
  <g filter="url(#shadow)">
    <rect x="760" y="180" rx="14" ry="14" width="320" height="260" fill="#E0F2F1" stroke="#80CBC4" stroke-width="2"/>
  </g>
  <text x="920" y="210" text-anchor="middle" class="subtitle">远程资源管理节点</text>
  <rect x="820" y="240" width="200" height="60" rx="10" fill="#BBDEFB" stroke="#64B5F6"/>
  <text x="920" y="270" text-anchor="middle" class="label">Provider 池</text>

  <!-- Gossip arrows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#607D8B"/>
    </marker>
    <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#26A69A"/>
    </marker>
  </defs>

  <path d="M600 220 C700 200, 760 200, 760 220" stroke="#26A69A" stroke-width="3" fill="none" marker-end="url(#arrow2)"/>
  <path d="M760 380 C700 400, 600 400, 600 360" stroke="#26A69A" stroke-width="3" fill="none" marker-end="url(#arrow2)"/>
  <text x="680" y="190" class="mono">Gossip: 节点状态/资源使用</text>
  <text x="620" y="415" class="mono">Gossip: 概要/增量</text>

  <!-- Legend -->
  <g>
    <rect x="70" y="560" width="1020" height="50" rx="10" fill="#FFFFFF" stroke="#CFD8DC"/>
    <text x="85" y="590" class="mono">注意：Gossip 传播的是“资源管理节点及其资源使用情况”，不是 Provider 实例；Actor 将结果写入 Store、日志推送至 Logger；Provider 由本地节点直接管理。</text>
  </g>
</svg>

